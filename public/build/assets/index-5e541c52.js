import{aF as g,aC as f,X as x,S as A,r as C,c as k,v as y,x as T,l as O,o as w,A as b,Z as m,p as _,_ as l}from"./vendor-43bf694e.js";import{_ as h,d as L,e as M,f as P,T as v,c as B,g as $}from"./app-4423a56b.js";const S={components:{CampaignMembers:L,CampaignProgress:M,CampaignAddButton:P,TakeLeadAction:v,PlusCircleOutlined:g,StopOutlined:f,PlayCircleOutlined:x,SyncOutlined:A},setup(){const{formatDateTime:i,permsArray:c}=B(),{addEditRequestAdmin:t,loading:p,rules:u}=$(),n=C(void 0),{t:a}=k(),d="call-managers?fields=id,xid,name,reference_prefix,allow_reference_prefix,remaining_leads,total_leads,campaignUsers{id,xid,user_id,x_user_id,campaign_id,x_campaign_id},campaignUsers:user{id,xid,name,profile_image,profile_image_url},form_id,x_form_id,form{id,xid,name,form_fields},detail_fields,last_action_by,x_last_action_by,lastActioner{id,xid,name},completed_by,x_completed_by,completedBy{id,xid,name},started_on,completed_on,upcoming_lead_action,managed_data",r=y();T(()=>{s()});const s=()=>{const e=axiosAdmin.get(d);Promise.all([e]).then(([o])=>{n.value=o.data})};return{permsArray:c,formatDateTime:i,allCampaigns:n,fetchCampaigns:s,campaignAdded:()=>{axiosAdmin.get(d).then(e=>{n.value=e.data})},stopCampaign:e=>{m.confirm({title:a("campaign.stop_campaign")+"?",icon:_(l),content:a("campaign.are_you_want_to_stop_campaign"),centered:!0,okText:a("common.yes"),okType:"danger",cancelText:a("common.no"),onOk(){t({url:"campaigns/stop",data:{x_campaign_id:e},successMessage:a("campaign.campaign_stopped_successfully"),success:o=>{s()}})},onCancel(){}})},getLeaActionColor:e=>e=="start_and_new_lead"?"#faad14":e=="resume"?"#52c41a":"",takeAction:e=>{m.confirm({title:a("common.are_you_sure")+"?",icon:_(l),content:a("campaign.are_you_want_to_create_new_lead"),centered:!0,okText:a("common.yes"),okType:"danger",cancelText:a("common.no"),onOk(){t({url:"campaigns/take-action",data:{x_campaign_id:e.xid},successMessage:a("campaign.new_lead_added"),success:o=>{r.push({name:"admin.call_manager.take_action",params:{id:o.x_lead_id}})}})},onCancel(){}})},router:r}}};function U(i,c,t,p,u,n){const a=O("TakeLeadAction");return w(),b(a)}const N=h(S,[["render",U]]);export{N as default};
